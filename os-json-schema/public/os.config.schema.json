{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "additionalProperties": false,
    "description": "Конфигурация (configuration)\nСтруктура, объединяющая слои инфраструктуры, логики и данных между собой. На основе активной конфигурации строится и работает весь кластер развернутой системы «R».\nhttps://dev01.oktell.ru/docs/r/develop/entities/master/configuration.html",
    "properties": {
        "$schema": {
            "description": "Техническое поле",
            "type": "string"
        },
        "content": {
            "additionalProperties": false,
            "description": "https://dev01.oktell.ru/docs/r/develop/configuration/index.html",
            "properties": {
                "aliases": {
                    "additionalProperties": false,
                    "description": "Алиасы – короткие уникальные имена для емких значений, кратно применяемых при настройке различных элементов конфигурации (серверов, функциональных ролей).\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/aliases.html",
                    "properties": {
                        "paths": {
                            "description": "Список алиасов путей к файлам и каталогам.\n{@link https://dev01.oktell.ru/docs/r/develop/configuration/categories/aliases.html#subtable_1 Формат элемента списка}\n\ndefault []",
                            "items": {
                                "additionalProperties": false,
                                "description": "Алиасы – короткие уникальные имена для емких значений, кратно применяемых при настройке различных элементов конфигурации (серверов, функциональных ролей).\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/aliases.html#subtable_1",
                                "properties": {
                                    "alias": {
                                        "description": "* Псевдоним",
                                        "type": "string"
                                    },
                                    "value": {
                                        "description": "Значение",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "alias",
                                    "value"
                                ],
                                "type": "object"
                            },
                            "type": "array"
                        },
                        "pgdb_strings": {
                            "description": "Список алиасов строк подключения к серверам БД (PostgreSQL).\n{@link https://dev01.oktell.ru/docs/r/develop/configuration/categories/aliases.html#subtable_1 Формат элемента списка.}\n\ndefault []",
                            "items": {
                                "additionalProperties": false,
                                "description": "Алиасы – короткие уникальные имена для емких значений, кратно применяемых при настройке различных элементов конфигурации (серверов, функциональных ролей).\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/aliases.html#subtable_1",
                                "properties": {
                                    "alias": {
                                        "description": "* Псевдоним",
                                        "type": "string"
                                    },
                                    "value": {
                                        "description": "Значение",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "alias",
                                    "value"
                                ],
                                "type": "object"
                            },
                            "type": "array"
                        }
                    },
                    "required": [
                        "paths",
                        "pgdb_strings"
                    ],
                    "type": "object"
                },
                "domains": {
                    "description": "Список доменов, являющихся ключевыми разветвителями дерева доменов в распределении по сайтам и группам функциональных ролей.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/domains.html",
                    "items": {
                        "additionalProperties": false,
                        "properties": {
                            "descr": {
                                "description": "Описание домена",
                                "type": "string"
                            },
                            "fqdn": {
                                "description": "Полное имя домена (Fully Qualified Domain Name)",
                                "type": "string"
                            },
                            "name": {
                                "description": "Строка, может состоять из латинских букв и цифр (допускается нижнее подчеркивание), начинаться должно с буквы.\nИспользуется в других разделах конфигурации при указании на домены.",
                                "type": "string"
                            }
                        },
                        "required": [
                            "fqdn",
                            "name"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                },
                "general": {
                    "additionalProperties": false,
                    "description": "Общие параметры конфигурации, не относящиеся к другим разделам.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/general.html",
                    "properties": {
                        "fsync_port_device": {
                            "description": "Порт, используемый приложением syncthing для работы (межсерверная синхронизация файловых систем).\n\ndefault 2200",
                            "type": "number"
                        },
                        "fsync_port_gui": {
                            "description": "Порт, используемый для доступа к Web-GUI приложения syncthing (межсерверная синхронизация файловых систем).\n\ndefault 8384",
                            "type": "number"
                        },
                        "generaldomain": {
                            "description": "Алиас главного домена из раздела \"tds\"",
                            "type": "string"
                        },
                        "logging_min_disk_space": {
                            "description": "Минимальный объем свободного места на диске, при достижении которого, логирование будет отключено, в ГБ.\ndefault 3",
                            "type": "number"
                        },
                        "logging_role_max_size": {
                            "description": "Максимальный объем лог-файлов, который может быть занят одной ролевой нодой (каталог log в рабочей директории ролевой ноды).\n\ndefault 100",
                            "type": "number"
                        },
                        "logging_role_store_days": {
                            "description": "Количество дней, в течении которого лог-файлы хранятся в рабочей директории ролевой ноды.\ndefault 2",
                            "type": "number"
                        },
                        "master_admin_login": {
                            "description": "Логин мастер-администратора.\nУчетные данные пропускают запросы в систему под ролью доступа администратора.\nПри этом самой учетной записи в домене не существует.",
                            "type": "string"
                        },
                        "master_admin_pwd": {
                            "description": "Пароль мастер-администратора.\nМожет быть указан в виде зашифрованного значения.\nЗашифровать и расшифровать пароль можно через API.\nКлюч шифра зависит от экземпляра текущей системы.",
                            "type": "string"
                        },
                        "perfmon_tick": {
                            "description": "```\nПериод снятия данных о работе системы и генерации событий класса perfmonevents, в секундах.\n0 – выключено.\nПрименяется в качестве значения по умолчанию, если иное не указано в свойствах сервера и сайта.\n```\ndefaul 0",
                            "type": "number"
                        },
                        "version": {
                            "description": "Версия конфигурации. Представляет собой строгое значение, известное системе. На текущий момент \"3.0\"",
                            "type": "string"
                        },
                        "webreq_out_max": {
                            "description": "Количество одновременных исходящих запросов из компонента веб-запрос на каждой ноде источнике. Минимальное значение 10, максимальное 10000.\n\nПри указании больших значений также необходимо настроить максимальное количество открытых файлов в операционной системе ulimit -n.\n\ndefault 100",
                            "type": "number"
                        }
                    },
                    "required": [
                        "generaldomain",
                        "version"
                    ],
                    "type": "object"
                },
                "roles": {
                    "description": "Список функциональных ролей.\nРаздел содержит список всех экземпляров функциональных ролей и их параметров (типы функциональных ролей).\nПривязка функциональных ролей к серверам происходит в разделе structure.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/roles.html",
                    "items": {
                        "anyOf": [
                            {
                                "additionalProperties": false,
                                "description": "Agat SIP Gate (agatsg)\n```\nШлюз для подключения SIP интерфейса линейных модулей шасси «АГАТ-РТ», на котором развернута система «R» или её часть. Применяет правила преобразования номеров и IP-адресов для корректного сопряжения системы с устройством.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/agatsg.html",
                                "properties": {
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "agatsg",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"agatsg\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "tcp": {
                                        "description": "```\n Локальный порт TCP для SIP. Если указано значение, отличное от UDP, то будет поднят дополнительно.\n Например: 5065 \n```",
                                        "type": "number"
                                    },
                                    "trn": {
                                        "description": "```\n Выключатель логирования SIP-протокола в лог trn. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "udp": {
                                        "description": "```\n Локальный порт UDP для SIP. Этот же порт одновременно обрабатывает и TCP.\n Например: 5065 \n```",
                                        "type": "number"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "tcp",
                                    "udp"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Back to back UserAgent (b2b)\n```\nФункциональная роль организующая коммутацию между SIP устройствами, путем создания двусторонних диалогов.\nПроизводит маршрутизацию и вызов соответствующих устройств с организацией медиа-потока между ними посредством функциональных ролей mgc и mg.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/b2b.html",
                                "properties": {
                                    "allow_ac_set": {
                                        "description": "```\n Выключатель режима отправки набора кодеков в ответах на INVITE.\n false – в ответе отправляется не более одного кодека из полученных в Offer SDP.\n true – в ответе может быть отправлено подмножество кодеков из списка полученных в Offer SDP. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "check_by_options_on_limit": {
                                        "description": "```\n Выключатель режима проверки устройств с помощью отправки SIP-запроса OPTIONS при получении запроса REGISTER, превышающего лимит по лицензии.\n false – отказывать в регистрации;\n true – проверять доступность зарегистрированных устройств, и в случае обнаружения недоступности автоматически заменять регистрацию. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "payloads_audio_offer": {
                                        "description": "```\n Список применяемых аудио кодеков.\n В качестве значения список, содержащий имена кодеков в формате \"Name/Freq\".\n Поддерживаются: PCMU/8000, GSM/8000, PCMA/8000, G722/8000, CN/8000, G729/8000, speex/8000, speex/16000, speex/32000, telephone-event/8000, G726-16/8000, G726-24/8000, G726-32/8000, G726-40/8000, iLBC/8000, opus/48000/2. \n```\n default: [\"PCMA/8000\", \"PCMU/8000\", \"G729/8000\", \"telephone-event/8000\"]",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "payloads_video_offer": {
                                        "description": "```\n Список используемых для инициации звонка имен видеокодеков case-sensitive.\n Поддерживаются: H263/90000, H263-1998/90000, H264/90000, VP8/90000, VP9/90000. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "record_conf": {
                                        "description": "```\n Выключатель записи диалогов с конференциями.\n При указании false медиа-трафик звонков в конференц-комнаты принудительно не записывается, вне зависимости от установок правил записи. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "record_ivr": {
                                        "description": "```\n Выключатель записи диалогов с IVR.\n При указании false медиа-трафик звонков в IVR, включая очереди, принудительно не записывается, вне зависимости от установок правил записи. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "b2b",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"b2b\". \n```",
                                        "type": "string"
                                    },
                                    "send_reinvite_on_ack": {
                                        "description": "```\n Выключатель режима отправки re-INVITE инициатору звонка сразу после установки диалога (получен подтверждающий SIP-запрос ACK).\n Может использоваться для обновления данных на дисплее в случае, если устройства не обрабатывают SIP-заголовок Remote-Party-Id.\n Также может применяться для выравнивания кодеков с целью увеличить вероятность прямой передачи трафика без транскодинга. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "tcp": {
                                        "description": "```\n Локальный порт TCP для SIP. Если указано значение, отличное от UDP, то будет поднят дополнительно.\n Например: 5090. \n```",
                                        "type": "number"
                                    },
                                    "trn": {
                                        "description": "```\n Выключатель логирования SIP-протокола в лог trn. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "udp": {
                                        "description": "```\n Локальный порт UDP для SIP. Этот же порт одновременно обрабатывает и TCP.\n Например: 5090. \n```",
                                        "type": "number"
                                    },
                                    "use_srtp": {
                                        "description": "```\n По умолчанию при инициации звонков на адреса, подключенные по TLS, отправляется SDP-offer для нешифрованного медиа потока (rtp). С помощью параметра можно для TLS адресов включить режим инициации отправки SDP-offerа с шифрованным медиа-потоком. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "use_video_transcoding": {
                                        "description": "```\n Использовать транскодинг видео.\n false – все видео-кодеки из SDP INVITE-запроса, полученного от инициатора, транслируются без изменений в SDP INVITE-запросов на вызываемые устройства. В этом случае система не применяет ни свои знания о кодеках, ни транскодинг, икодек неизвестен системе, то прямая трансляция тем не менее остается возможной.\n true – все видео-кодеки приводятся в соответствии с известными системе видео-кодеками, система предлагает вызываемой стороне все известные ей кодеки (с фильтром из payloads_video_offer), и при несовпадении выбранных устройствами кодеков осуществляется транскодинг на видео-стриме. \n```\n default: false",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "tcp",
                                    "udp"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Border Gate’s Media Gate (bgmg)\n```\nМедиа-шлюз, замыкающий медиа потоки на внешних интерфейсах.\nОдной стороной всегда выступает порт функциональной роли mg управляемый функциональной ролью b2b, а другой стороной – порт абонентского устройства.\nРаботает на одном сервере с функциональной ролью sg и/или esg и под их управлением.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/bgmg.html",
                                "properties": {
                                    "aliases": {
                                        "description": "```\n Aлиасы интерфейсов.\n Формат записи алиаса для интерфейса:\n {\"key\":\"Alias\", \"value\":\"Interface\"}\n В приложении редактора конфигураций задаются путем выбора интерфейсов, алиасы подставляются автоматически. \n```",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "certdir": {
                                        "description": "```\n Алиас каталога на сервере для хранения сертификатов (файлы server.crt и server.key).\n Если путь не указан, то поиск сертификатов осуществляется в каталоге \"/usr/lib/rostell/rostell_sip/priv/ssl\" \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "codecs": {
                                        "description": "```\n Список используемых кодеков. Ограничивает использование кодеков, выдаваемых вовне.\n Возможные значения: \"GSM\", \"PCMA\", \"PCMU\", \"G722\", \"G729\", \"G726-16\", \"G726-24\", \"G726-32\", \"G726-40\", \"opus\", \"speex\", \"G729a\", \"VP8\", \"VP9\", \"H264\", \"H263\", \"H263-1998\", \"H263-2000\". По умолчанию: не задано, используются все поддерживаемые кодеки. \n```",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "domgrecordcalls": {
                                        "description": "```\n Признак сохранения записей разговоров. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "keypass": {
                                        "description": "```\n Пароль для расшифровки файла секретного ключа сертификата. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "logmaxsize": {
                                        "description": "```\n Максимальный суммарный размер лог-файлов за один день, в МБ. При достижении лимита запись логов останавливается в ожидании удаления, в том числе автоматического по времени. \n```\n default: 2000",
                                        "type": "number"
                                    },
                                    "logpartsize": {
                                        "description": "```\n Максимальный размер одного лог-файла, в МБ. \n```\n default: 200",
                                        "type": "number"
                                    },
                                    "logrootpath": {
                                        "description": "```\n Алиас каталога на сервере для размещения лог-файлов.\n По умолчанию: \"/var/lib/rostell/_workdir/<NODE_NAME>/log/mg\". \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "logtrace": {
                                        "description": "```\n Уровень логирования.\n Возможные значения:\n timer, call, events, proto, error, warning, trans, async, stream, fax, net, media-flow, rtp-flow, rtp, session, stat, flag1, flag2, flag3, flag4, flag5, flag6, flag7, flag8.\n Не рекомендуется к постоянному использованию в силу больших требований к производительности жестких дисков. \n```\n default: [\"error\", \"warning\"]",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "mgcgroup": {
                                        "description": "```\n Группа mgc, к которой принадлежит текущий mg.\n Совпадает с параметром group в функциональных ролях с типом mgc. \n```\n default: 0",
                                        "type": "number"
                                    },
                                    "mgrecordcalls": {
                                        "description": "```\n Алиас каталога на сервере для размещения записей разговоров. \n```\n default: /var/lib/rostell/files/records",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "port": {
                                        "description": "```\n Локальный порт TCP MEGACO.\n Стандартный порт: 2944. \n```\n default: 2944",
                                        "type": "number"
                                    },
                                    "recdumpinterval": {
                                        "description": "```\n Интервал сброса данных из кэша в исходный файл записи разговора, в миллисекундах.\n Минимальное значение: 500. \n```\n default: 5000",
                                        "minimum": 500,
                                        "type": "number"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "bgmg",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"bgmg\". \n```",
                                        "type": "string"
                                    },
                                    "rtcpmonitor": {
                                        "description": "```\n Выключатель логирования статистики на основе пакетов RTCP. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "termportranges": {
                                        "description": "```\n Диапазон RTP портов, которые будет использовать функциональная роль.\n Задается для каждого алиаса отдельно.\n Формат записи диапозона портов:\n {\"key\":\"AliasName\",\"value\":\"PortFrom:PortCnt\"}\n где AliasName – имя интерфейса, PortFrom – начальное значение порта, PortCnt – количество портов.\n По умолчанию для каждого алиаса будет установлено: \"10000:20000\" \n```",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    }
                                },
                                "required": [
                                    "aliases",
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "termportranges"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Call Storage (callstore)\n```\nХранилище активных звонков и их контекстов.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/callstore.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "callstore",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"callstore\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "CDR (cdr)\n```\nОбработчик событий, поставляющий их из брокера сообщений функциональной роли sq в потоковую БД внутри одного сайта.\nИмеет прямой доступ к реляционным потоковым БД всех доменов вне зависимости от того, на каких сайтах они обслуживаются.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/cdr.html",
                                "properties": {
                                    "checktoutcallsinterval": {
                                        "description": "```\n Период проверки наличия звонков с таймаутом в БД, в секундах.\n Минимальное значение: 30. \n```\n default: 3600",
                                        "minimum": 30,
                                        "type": "number"
                                    },
                                    "dbconnstrings": {
                                        "description": "```\n Строки подключения к ферме серверов PostgreSQL событийных потоковых БД доменов (cdr).\n Формат строки подключения: \"alias://pgdb_strings/<ALIAS_NAME>\", где <ALIAS_NAME> – конкретный алиас конфигурации из раздела pgdb_strings.\n Перечисление в списке нескольких строк подключения обеспечивает резервный доступ к ферме серверов БД – если подключение через первую строку не удается, производится подключение через вторую и т.д. \n```",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "domainsubscrqlist": {
                                        "description": "```\n Cписок доменных очередей, на которые подписан экземпляр функциональной роли. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "group": {
                                        "description": "```\n Номер группы.\n Горизонтальное масштабирование внутри сайта не поддерживается. Все экземпляры функциональной роли на сайте должны иметь одинаковое значение.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "istoutcallsinterval": {
                                        "description": "```\n Время, прошедшее с момента получения события callevents.dlg_start, после которого звонок считается завершенным и автоматически генерируется событие callevents.dlg_dead, в секундах.\n Минимальное значение: 3600. \n```\n default: 7200",
                                        "minimum": 3600,
                                        "type": "number"
                                    },
                                    "maxevents": {
                                        "description": "```\n Максимальное количество событий которое функциональная роль может получить со всех очередей за одну итерацию.\n Минимальное значение: 10. \n```\n default: 5000",
                                        "minimum": 10,
                                        "type": "number"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "querytout": {
                                        "description": "```\n Таймаут на запросы в БД в мс.\n Минимальное значение: 1000. \n```\n default: 1000",
                                        "minimum": 1000,
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "cdr",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"cdr\". \n```",
                                        "type": "string"
                                    },
                                    "subscrqlist": {
                                        "description": "```\n Список очередей на которые подписан экземпляр функциональной роли \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    }
                                },
                                "required": [
                                    "dbconnstrings",
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Conference SIP UserAgent (conf)\n```\nРеализует сервис конференц-связи по SIP.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/conf.html",
                                "properties": {
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "payloads_audio_offer": {
                                        "description": "```\n Список применяемых аудио кодеков.\n В качестве значения список, содержащий имена кодеков в формате \"Name/Freq\".\n Поддерживаются: PCMU/8000, GSM/8000, PCMA/8000, G722/8000, CN/8000, G729/8000, speex/8000, speex/16000, speex/32000, telephone-event/8000, G726-16/8000, G726-24/8000, G726-32/8000, G726-40/8000, iLBC/8000, opus/48000/2. \n```\n default: [\"PCMA/8000\", \"PCMU/8000\", \"G729/8000\", \"telephone-event/8000\"]",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "payloads_video_offer": {
                                        "description": "```\n Список используемых для инициации звонка имен видеокодеков case-sensitive.\n Поддерживаются: H263/90000, H263-1998/90000, H264/90000, VP8/90000, VP9/90000. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "conf",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"conf\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "tcp": {
                                        "description": "```\n Локальный порт TCP для SIP. Если указано значение, отличное от UDP, то будет поднят дополнительно.\n Например: 5086 \n```",
                                        "type": "number"
                                    },
                                    "trn": {
                                        "description": "```\n Выключатель логирования SIP-протокола в лог trn. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "udp": {
                                        "description": "```\n Локальный порт UDP для SIP. Этот же порт одновременно обрабатывает и TCP.\n Например: 5086 \n```",
                                        "type": "number"
                                    },
                                    "use_video_transcoding": {
                                        "description": "```\n Использовать транскодинг видео.\n Режим находится в разработке для функциональной роли conf.\n false – все видео-кодеки из SDP INVITE-запроса, полученного от инициатора, транслируются без изменений в SDP INVITE-запросов на вызываемые устройства. В этом случае система не применяет ни свои знания о кодеках, ни транскодинг, икодек неизвестен системе, то прямая трансляция тем не менее остается возможной.\n true – все видео-кодеки приводятся в соответствии с известными системе видео-кодеками, система предлагает вызываемой стороне все известные ей кодеки (с фильтром из payloads_video_offer), и при несовпадении выбранных устройствами кодеков осуществляется транскодинг на видео-стриме. \n```\n default: false",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "tcp",
                                    "udp"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "DB Procedure Controller (dbproc)\n```\nПроцессор выполняющий по расписанию запросы к различным БД (системных – потоковой cdr, журнальной jrnl, отчетной repg, сущностной dc и сторонних – через указание подключения). Может использоваться для подготовки данных для системы отчетности.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/dbproc.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n Горизонтальное масштабирование внутри сайта не поддерживается. Все экземпляры функциональной роли на сайте должны иметь одинаковое значение.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "dbproc",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"dbproc\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roleid",
                                    "roletype",
                                    "separate"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Domain’s Storage (domstore)\n```\nУниверсальное хранилище домена. Используется различными функциональными ролями как внутренний сервис.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/domstore.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "domstore",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"domstore\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "External SIP Gate (esg)\n```\nТочка доступа в кластер по SIP для внешних устройств – провайдеров телефонии, шлюзов и вышестоящими и одноранговыми АТС, находящихся во внешнем номерном плане, не управляемом системой. Вся работа происходит на основе учетных записей SIP-провайдеров. Для стыковки внутреннего номерного плана с одноранговыми и вышестоящими АТС и провайдерами применяются правила преобразования CallerId и CalledId (provider_callerid).\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/esg.html",
                                "properties": {
                                    "aliases": {
                                        "description": "```\n Алиасы сетевых интерфейсов для применения bgmg.\n Распределение алиасов по сетевым интерфейсам обязано совпадать с аналогичным распределением у функциональной роли bgmg.\n Формат:\n {\"key\":\"Alias\", \"value\":\"Interface\"}\n Достижимость конечных адресов через сетевые интерфейсы, чьи адреса принадлежат разным алиасам, означает необходимость применения медиа-шлюза, управляемого функциональной ролью bgmg.\n Здесь должны быть указаны адреса всех сетевых интерфейсов IPv4 (исключая loopback), которые могут быть определены системой как наилучшие для достижения удаленных адресов. \n```\n default: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "b2bmedia": {
                                        "description": "```\n Выключатель применения медиа-шлюза функциональной ролью b2b для звонков, инициированных текущим экземпляром функциональной роли esg. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "certdir": {
                                        "description": "```\n Алиас каталога на сервере для хранения сертификатов (файлы server.crt и server.key).\n Если путь не указан, то поиск сертификатов осуществляется в каталоге \"/usr/lib/rostell/rostell_sip/priv/ssl\" \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "extaddrs": {
                                        "description": "```\n Список IP-адресов текущего сервера.\n Применяется в одном из алгоритмов поиска учетной записи провайдера при получении INVITE-запросов извне, допуская указание в качестве домена в заголовке \"To\" одного из перечисленных в списке адресов.\n Обычно необходимости в использовании этого поля не возникает, поскольку имеется возможность указать необходимое значение в настройках учетной записи провайдера.\n Тем не менее в целях оптимизации и снятия потребности указывать в большом количестве учетных записей провайдеров одних и тех же значений, они могут быть указаны в опции функциональной роли esg. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "keypass": {
                                        "description": "```\n Пароль для расшифровки файла секретного ключа сертификата. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "max_udp_size": {
                                        "description": "```\n Максимальный размер udp пакета, отправляемый системой, в байтах.\n Минимальное значение: 1500.\n (Реализовано в задаче #182).\n При превышении отправляемым пакетом установленного размера происходит автоматическая отправка через TCP.\n При превышении отправляемым пакетом размера 1500 но до установленного в поле значения, происходит автоматическое разбиение пакета на фреймы и сборка их при получении на нижнем сетевом уровне.\n Не все устройства поддерживают такой режим. В то же время не все устройства держат TCP открытым. \n```\n default: 1500",
                                        "minimum": 1500,
                                        "type": "number"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "payloads_audio_offer": {
                                        "description": "```\n Список применяемых аудио кодеков.\n В качестве значения список, содержащий имена кодеков в формате \"Name/Freq\".\n Поддерживаются: PCMU/8000, GSM/8000, PCMA/8000, G722/8000, CN/8000, G729/8000, speex/8000, speex/16000, speex/32000, telephone-event/8000, G726-16/8000, G726-24/8000, G726-32/8000, G726-40/8000, iLBC/8000, opus/48000/2. \n```\n default: [\"PCMA/8000\", \"PCMU/8000\", \"G729/8000\", \"telephone-event/8000\"]",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "payloads_video_offer": {
                                        "description": "```\n Список используемых для инициации звонка имен видеокодеков case-sensitive.\n Поддерживаются: H263/90000, H263-1998/90000, H264/90000, VP8/90000, VP9/90000. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "esg",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"esg\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "sipalg": {
                                        "additionalProperties": false,
                                        "description": "```\n Маппинги SIP ALG для применения в SDP и заголовках на исходящих запросах INVITE и ответах OK, а также обратно на входящих\n сообщениях ACK и BYE.\n Формат:\n {\"key\":\"IpAddr1\", \"value\":\"IpAddr2\"}\n Ключом выступает IP-адрес подлежащий подмене, а значением - IP-адрес, на который будет подменяться адрес в исходящем SDP.\n IP-адрес подлежащий подмене должен совпадать с адресом на сервере с функциональной ролью MG/BGMG.\n IP-адрес на который будет подменяться может быть любым и обычно не принадлежит серверу. \n```\n default: empty",
                                        "properties": {
                                            "key": {
                                                "type": "string"
                                            },
                                            "value": {
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "key",
                                            "value"
                                        ],
                                        "type": "object"
                                    },
                                    "stunserver": {
                                        "description": "```\n Список внешних STUN-серверов для определения внешнего IP-адреса сервера при работе за NAT.\n Применяется в одном из алгоритмов поиска учетной записи провайдера при получении INVITE-запросов извне, допуская указание в качестве домена в заголовке \"To\" внешнего адреса NAT. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "tcp": {
                                        "description": "```\n Локальный порт TCP для SIP. Если указано значение, отличное от UDP, то будет поднят дополнительно.\n Например: 5080 \n```",
                                        "type": "number"
                                    },
                                    "tls": {
                                        "description": "```\n Локальный порт для соединений по tls. По умолчанию не открывается.\n Например: 5081 \n```\n default: empty",
                                        "type": "number"
                                    },
                                    "tls_ciphers": {
                                        "description": "```\n Список алгоритмов шифрования, используются при установке tls соединения. Необходимо указывать RFC или openssl имена алгоритмов. При указании * будут выбраны все доступные алгоритмы.\n По умолчанию используется default - список актуальных алгоритмов шифрования для протоколов tlsv1.1, tlsv1.2, tlsv1.3.\n Например:\n [\"*\"]\n [<<\"TLS_RSA_WITH_AES_256_GCM_SHA384\">>, <<\"AES256-GCM-SHA384\">>] \n```\n default: default",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "trn": {
                                        "description": "```\n Выключатель логирования SIP-протокола в лог trn. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "udp": {
                                        "description": "```\n Локальный порт UDP для SIP. Этот же порт одновременно обрабатывает и TCP.\n Например: 5080 \n```",
                                        "type": "number"
                                    },
                                    "use_srtp": {
                                        "description": "```\n По умолчанию при инициации звонков на адреса, подключенные по TLS, отправляется SDP-offer для нешифрованного медиа потока (rtp). С помощью параметра можно для TLS адресов включить режим инициации отправки SDP-offerа с шифрованным медиа-потоком.\n Применяется только для звонков, использующих пограничный медиагейт (media=1). \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "use_video_transcoding": {
                                        "description": "```\n Выключатель транскодинга видео.\n Применяется при использовании bgmg.\n false – все видео-кодеки из SDP INVITE-запроса, полученного от инициатора, транслируются без изменений в SDP INVITE-запросов на вызываемые устройства. В этом случае система не применяет ни свои знания о кодеках, ни транскодинг, икодек неизвестен системе, то прямая трансляция тем не менее остается возможной.\n true – все видео-кодеки приводятся в соответствии с известными системе видео-кодеками, система предлагает вызываемой стороне все известные ей кодеки (с фильтром из payloads_video_offer), и при несовпадении выбранных устройствами кодеков осуществляется транскодинг на видео-стриме. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "wss": {
                                        "description": "```\n Локальный порт для соединений по wss. По умолчанию не открывается.\n Например: 5083 \n```\n default: empty",
                                        "type": "number"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "tcp",
                                    "udp"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Hunt Queue Service (huntq)\n```\nОбеспечивает обслуживание очередей (к пользователям и SIP-пользователям).\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/huntq.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "huntq",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"huntq\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Infrastructure Controller (ic)\n```\nУправляет изменениями в инфраструктуре внутри сайта, распределяет и синхронизирует конфигурации и поддерживает процесс обновления системы внутри сайта. Получает от mic и передает конфигурацию серверам внутри сайта. Производит синхронизацию динамической конфигурации с другими сайтами – состояния доступности серверов. Предоставляет данные по статистике сайта.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/ic.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n Горизонтальное масштабирование внутри сайта не поддерживается. Все экземпляры функциональной роли на сайте должны иметь одинаковое значение.\n Целое число от 1 до 9999999. \n```\n default: empty",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "refreshinterval": {
                                        "description": "```\n Интервал обновления статистики по сайту, в сек.\n Минимальное значение: 10. \n```\n default: 30",
                                        "minimum": 10,
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "ic",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"ic\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Interactive Voice Response SIP UserAgent (ivr)\n```\nСервис автообслуживания SIP-звонков с помощью преднастроенных администратором IVR-сценариев. Также обеспечивает функционал инициации звонка изнутри системы.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/ivr.html",
                                "properties": {
                                    "b2bmedia": {
                                        "description": "```\n Выключатель применения медиа-шлюза функциональной ролью b2b для звонков, инициированных текущим экземпляром функциональной роли ivr. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "payloads_audio_offer": {
                                        "description": "```\n Список применяемых аудио кодеков.\n В качестве значения список, содержащий имена кодеков в формате \"Name/Freq\".\n Поддерживаются: PCMU/8000, GSM/8000, PCMA/8000, G722/8000, CN/8000, G729/8000, speex/8000, speex/16000, speex/32000, telephone-event/8000, G726-16/8000, G726-24/8000, G726-32/8000, G726-40/8000, iLBC/8000, opus/48000/2. \n```\n default: [\"PCMA/8000\", \"PCMU/8000\", \"G729/8000\", \"telephone-event/8000\"]",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "payloads_video_offer": {
                                        "description": "```\n Список используемых для инициации звонка имен видеокодеков case-sensitive.\n Поддерживаются: H263/90000, H263-1998/90000, H264/90000, VP8/90000, VP9/90000. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "ivr",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"ivr\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "tcp": {
                                        "description": "```\n Локальный порт TCP для SIP. Если указано значение, отличное от UDP, то будет поднят дополнительно.\n Например: 5085 \n```",
                                        "type": "number"
                                    },
                                    "trn": {
                                        "description": "```\n Выключатель логирования SIP-протокола в лог trn. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "udp": {
                                        "description": "```\n Локальный порт UDP для SIP. Этот же порт одновременно обрабатывает и TCP.\n Например: 5085 \n```",
                                        "type": "number"
                                    },
                                    "use_video_transcoding": {
                                        "description": "```\n Использовать транскодинг видео.\n Режим находится в разработке для функциональной роли ivr.\n false – все видео-кодеки из SDP INVITE-запроса, полученного от инициатора, транслируются без изменений в SDP INVITE-запросов на вызываемые устройства. В этом случае система не применяет ни свои знания о кодеках, ни транскодинг, икодек неизвестен системе, то прямая трансляция тем не менее остается возможной.\n true – все видео-кодеки приводятся в соответствии с известными системе видео-кодеками, система предлагает вызываемой стороне все известные ей кодеки (с фильтром из payloads_video_offer), и при несовпадении выбранных устройствами кодеков осуществляется транскодинг на видео-стриме. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "usemedia": {
                                        "description": "```\n Служебное поле. Использование медиа-шлюза функциональной ролью ivr.\n Применяется при организации нагрузочного автотестирования с инициацией звонков функциональной ролью ivr. \n```\n default: true",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "tcp",
                                    "udp"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Journal (jrnl)\n```\nФункциональная роль управления журналами (разговоров, чатов, и др.). Работает с хранилищами – потоковой БД CDR и файловым хранилищем записей разговоров. На основе данных в них копирует или перемещает (в зависимости от настройки) данные из потоковой событийной БД в журнальную БД домена.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/jrnl.html",
                                "properties": {
                                    "cleantime": {
                                        "description": "```\n Время ежедневного запуска процедуры очистки старых записей (в бд и медиа), в формате ISO 8601.\n Формат \"HH:MMZ\" или \"HH:MM+HH:MM\", например \"01:35Z\", \"02:47+03:00\". \n```\n default: \"01:00:25Z\"",
                                        "type": "string"
                                    },
                                    "dbconnstrings": {
                                        "description": "```\n Строки подключения к ферме серверов PostgreSQL журнальных БД доменов (jrnl).\n Формат строки подключения: \"alias://pgdb_strings/<ALIAS_NAME>\", где <ALIAS_NAME> – конкретный алиас конфигурации из раздела pgdb_strings.\n Перечисление в списке нескольких строк подключения обеспечивает резервный доступ к ферме серверов БД – если подключение через первую строку не удается, производится подключение через вторую и т.д. \n```",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "group": {
                                        "description": "```\n Номер группы.\n Горизонтальное масштабирование внутри сайта не поддерживается. Все экземпляры функциональной роли на сайте должны иметь одинаковое значение.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "intervalerrsec": {
                                        "description": "```\n Интервал до следующей итерации в случае возникновения ошибки, в секундах.\n Отсчитывается после завершения текущей итерации с ошибкой.\n Возможные значения от 1 до 86400. \n```\n default: 60",
                                        "type": "number"
                                    },
                                    "intervalsec": {
                                        "description": "```\n Интервал между операциями копирования (от завершения предыдущей до начала следующей), в секундах.\n Возможные значения от 1 до 86400. \n```\n default: 300",
                                        "type": "number"
                                    },
                                    "mode": {
                                        "description": "```\n Режим работы с БД CDR как с поставщиком данных. Возможные значения:\n \"copy\" – данные копируются и помечаются как скопированные.\n \"move\" – данные копируются в журнал, а затем удаляются из CDR.\n \"pause\" – копирование из CDR приостановлено. \n```\n default: \"move\"",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "jrnl",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"jrnl\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "dbconnstrings",
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Log Storage (logstore)\n```\nОбеспечивает длительное хранение лог-файлов со всех серверов и нод. Существует внутри каждого сайта независимо от других.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/logstore.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n Горизонтальное масштабирование внутри сайта не поддерживается. Все экземпляры функциональной роли на сайте должны иметь одинаковое значение.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "logstore",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"logstore\". \n```",
                                        "type": "string"
                                    },
                                    "storedays": {
                                        "description": "```\n Количество дней для хранения лог-файлов.\n При достижении устаревшие данные автоматически удаляются. \n```\n default: 2",
                                        "type": "number"
                                    },
                                    "storepath": {
                                        "description": "```\n Алиас каталога на сервере для размещения и хранения лог-файлов.\n По умолчанию: \"/var/lib/rostell/_workdir/<NODE_NAME>/log/logstore\".\n Ожидается, что в качестве каталога будет подключено сетевое хранилище, доступное всем экземплярам функциональной роли. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "storesize": {
                                        "description": "```\n Максимальный размер хранимых лог-файлов, в ГБ.\n При достижении наиболее старые данные автоматически удаляются. \n```\n default: 100",
                                        "type": "number"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Master Domain Center (mdc)\n```\nХранилище сущностей домена.\nПредоставляет другим функциональным ролям внутри сайта доступ к данным для организации процессов. Некоторые данные подлежат предварительному расчету внутри функциональной роли.\nИмеет прямой доступ к реляционными БД всех доменов вне зависимости от того, на каких сайтах они обслуживаются. При запуске загружает в кеш данные по доменам из соответствующих БД.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/mdc.html",
                                "properties": {
                                    "dbconnstrings": {
                                        "description": "```\n Строки подключения к ферме серверов PostgreSQL сущностных БД доменов.\n Формат строки подключения: \"alias://pgdb_strings/<ALIAS_NAME>\", где <ALIAS_NAME> – конкретный алиас конфигурации из раздела pgdb_strings.\n Перечисление в списке нескольких строк подключения обеспечивает резервный доступ к ферме серверов БД – если подключение через первую строку не удается, производится подключение через вторую и т.д. \n```",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, а остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "mdc",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"mdc\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "dbconnstrings",
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Media Gate (mg)\n```\nМедиа-шлюз, замыкающий медиа-потоки.\nУправляется функциональной ролью mgc по протоколу MEGACO. Каждый медиа-контекст управляется одной из функциональных ролей: b2b, conf, ivr, esg.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/mg.html",
                                "properties": {
                                    "aliases": {
                                        "description": "```\n Aлиасы интерфейсов, для работы функциональной роли на нескольких интерфейсах.\n Формат записи алиаса для интерфейса:\n {\"key\":\"Alias\", \"value\":\"Interface\"}\n В приложении редактора конфигураций задаются путем выбора интерфейсов, алиасы подставляются автоматически.\n Не допустимо указание одновременно с rtpiface и termportrange. \n```\n default: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "certdir": {
                                        "description": "```\n Алиас каталога на сервере для хранения сертификатов (файлы server.crt и server.key).\n Если путь не указан, то поиск сертификатов осуществляется в каталоге \"/usr/lib/rostell/rostell_sip/priv/ssl\" \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "codecs": {
                                        "description": "```\n Список используемых кодеков. Ограничивает использование кодеков, выдаваемых вовне.\n Возможные значения: \"GSM\", \"PCMA\", \"PCMU\", \"G722\", \"G729\", \"G726-16\", \"G726-24\", \"G726-32\", \"G726-40\", \"opus\", \"speex\", \"G729a\", \"VP8\", \"VP9\", \"H264\", \"H263\", \"H263-1998\", \"H263-2000\". По умолчанию: не задано, используются все поддерживаемые кодеки. \n```",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "domgrecordcalls": {
                                        "description": "```\n Признак сохранения записей разговоров. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "keypass": {
                                        "description": "```\n Пароль для расшифровки файла секретного ключа сертификата. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "logpartsize": {
                                        "description": "```\n Максимальный размер одного лог-файла, в МБ. \n```\n default: 200",
                                        "type": "number"
                                    },
                                    "logrootpath": {
                                        "description": "```\n Алиас каталога на сервере для размещения лог-файлов.\n По умолчанию: \"/var/lib/rostell/_workdir/<NODE_NAME>/log/mg\". \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "logtrace": {
                                        "description": "```\n Уровень логирования.\n Возможные значения:\n timer, call, events, proto, error, warning, trans, async, stream, fax, net, media-flow, rtp-flow, rtp, session, stat, flag1, flag2, flag3, flag4, flag5, flag6, flag7, flag8.\n logmaxsize, int, 2000, \"Максимальный суммарный размер лог-файлов за один день, в МБ. При достижении лимита запись логов останавливается в ожидании удаления, в том числе автоматического по времени. \n```\n default: [\"error\", \"warning\"]",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "mgcgroup": {
                                        "description": "```\n Группа mgc, к которой принадлежит текущий mg.\n Совпадает с параметром group в функциональных ролях с типом mgc. \n```\n default: 0",
                                        "type": "number"
                                    },
                                    "mgrecordcalls": {
                                        "description": "```\n Алиас каталога на сервере для размещения записей разговоров. \n```\n default: /var/lib/rostell/files/records",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "port": {
                                        "description": "```\n Локальный порт TCP MEGACO.\n Стандартный порт: 2944. \n```",
                                        "type": "number"
                                    },
                                    "recdumpinterval": {
                                        "description": "```\n Интервал сброса данных из кэша в исходный файл записи разговора, в миллисекундах.\n Минимальное значение: 500. \n```\n default: 5000",
                                        "minimum": 500,
                                        "type": "number"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "mg",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"mg\". \n```",
                                        "type": "string"
                                    },
                                    "rtcpmonitor": {
                                        "description": "```\n Выключатель логирования статистики на основе пакетов RTCP. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "rtpiface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, который будет использоваться для обслуживания RTP-трафика.\n По умолчанию используется интерфейс из поля iface.\n Не допустимо указание одновременно с aliases и termportranges. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "termportrange": {
                                        "description": "```\n Диапазон RTP портов, которые будет использовать данный экземпляр функциональной роли на сетевом интерфейсе.\n Формат: \"PortFrom:PortCnt\", где PortFrom – начальное значение порта, PortCnt – количество портов.\n Если не задано используется диапозон \"10000:20000\".\n Не допустимо указание одновременно с aliases и termportranges. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "termportranges": {
                                        "description": "```\n Диапазон RTP портов, которые будет использовать функциональная роль, для работы на нескольких интерфейсах.\n Задается для каждого алиаса отдельно.\n Формат записи диапозона портов:\n {\"key\":\"AliasName\",\"value\":\"PortFrom:PortCnt\"}\n где AliasName – имя интерфейса, PortFrom – начальное значение порта, PortCnt – количество портов.\n По умолчанию для каждого алиаса будет установлено: \"10000:20000\"\n Не допустимо указание одновременно с rtpiface и termportrange. \n```\n default: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "port",
                                    "roleid",
                                    "roletype",
                                    "separate"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Media Gate Controller (mgc)\n```\nКонтроллер группы медиа-шлюзов, расположенных на том же сайте.\nУправляется функциональными ролями: b2b, conf, ivr, esg. Взаимодействует с медиа-шлюзами по протоколу MEGACO. В качестве медиа-шлюза выступает приложение rtx_mg3, включаемое в конфигурацию в виде функциональных ролей mg и bgmg.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/mgc.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Группа включает в себя совокупность медиа-шлюзов.\n В процессе создания нового медиа-контекста сначала равномерно-случайным способом выбирается группа MGC на сайте, а затем внутри группы выбирается MG с наименьшим количеством активных медиа-контекстов. При недоступности одной группы, производится попытка провести создание контекста в следующей группе.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "mediactx_types": {
                                        "description": "```\n Список обслуживаемых типов медиа-контекстов. Прямые звонки (аудио,видео) - direct.\n Аудио-конференция - conf_audio. Видео-конференция - conf_video. \n```\n default: [\"direct\",\"conf_audio\"]",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive внутри группы. \n```",
                                        "type": "number"
                                    },
                                    "port": {
                                        "description": "```\n Локальный порт TCP MEGACO.\n Например: 2954. \n```",
                                        "type": "number"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "mgc",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"mgc\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "port",
                                    "roleid",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Master Infrastructure Controller (mic)\n```\nУправляет изменениями в инфраструктуре всей системы, управляет распределением и синхронизацией конфигураций и процессом обновления.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/mic.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n Горизонтальное масштабирование внутри сайта не поддерживается. Все экземпляры функциональной роли на сайте должны иметь одинаковое значение.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "mic",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"mic\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Mixer (mix)\n```\nОбеспечивает подготовку, упаковку и размещение файлов записей разговоров на основе событий системы. Размещение производится в общем хранилище (Локальные пути - recstore), откуда потом записи разносятся по хранилищам доменов функциональной ролью jrnl.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/mix.html",
                                "properties": {
                                    "bitrate": {
                                        "description": "```\n Битрейт.\n Возможно изменять только для формата mp3.\n Возможные значения для mp3: 8000, 16000, 32000. \n```\n default: 8000",
                                        "type": "number"
                                    },
                                    "cachefolder": {
                                        "description": "```\n Алиас каталога на сервере для размещения служебных файлов микшера.\n Если каталог не существует, он будет создан.\n По умолчанию: \"/var/lib/rostell/_workdir/<NODE_NAME>\" \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "channels": {
                                        "description": "```\n Количество каналов в файле после микширования.\n Доступно для изменения только у форматов mp3 и pcm.\n Возможные значения:\n 1 – моно,\n 2 – стерео. \n```\n default: 1",
                                        "type": "number"
                                    },
                                    "encoding": {
                                        "description": "```\n Формат в который будет производиться упаковка файла аудио-записи после микширования.\n Возможные значения: \"mp3\", \"pcm\", \"pcma\", \"pcmu\", \"gsm\". \n```\n default: \"mp3\"",
                                        "type": "string"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "maxevents": {
                                        "description": "```\n Максимальное количество событий, которые функциональная роль может получить со всех очередей за одну итерацию.\n По умолчанию берется значение равное количеству доступных логических процессоров, однако если при определении возникла ошибка, то по умолчанию: 8. \n```\n default: 8",
                                        "type": "number"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "recstorageid": {
                                        "description": "```\n Алиас каталога на сервере для хранения записей разговоров.\n Если каталог не существует, он будет создан.\n При работе функциональной роли jrnl записи из общего хранилища переносятся в доменные хранилища. По умолчанию хранилищем записей домена выступает подкаталог общего каталога хранения записей.\n В зависимости от того, настроен ли перенос записей в доменные хранилища за пределами кластера (например в S3-хранилище), размещение записей в каталоге может быть кратковременным, либо долговременным с накоплением.\n Формат значения: alias://paths/<ALIAS_NAME>. \n```",
                                        "type": "string"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли. Уникален для всей системы, независимо от сайта или сервера.\n  Нельзя изменить после присвоения. Целое число от 1 до 9999 \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "mix",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"mix\". \n```",
                                        "type": "string"
                                    },
                                    "samplerate": {
                                        "description": "```\n Outdated. Частота дискретизации. Функциональная роль применяет константное значение - 8000Hz \n```\n default: 8000",
                                        "type": "number"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "subscrqlist": {
                                        "description": "```\n Список ключей очередей, на которые подписан экземпляр функциональной роли.\n Ключи задаются в настройках функциональных ролей sq, фактически микшеру нужны очереди для класса событий mixerevents \n```",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "recstorageid",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "subscrqlist"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Middleware (mware)\n```\nОбеспечивает функции переноса данных между внутренними сервисами внутри сайта, а также контроля корректности работы.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/mware.html",
                                "properties": {
                                    "enable_audiomatcher": {
                                        "description": "```\n Признак запуска процесса audio-matcher, используется для работы компонента ivr сценария - Антиробот. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, а остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "pg_controller": {
                                        "description": "```\n Настройки для контроллера серверов PostgreSQL, находящихся в режиме потоковой репликации (версия pgsql 12+).\n Список содержит объекты-группы. Каждая группа содержит список из двух серверов, находящихся в режиме потоковой репликации.\n Сервис mware обеспечивает в каждой группе наличие 1 мастера, автоматически приводя к состоянию 1+1.\n Если обнаруживаются два мастера - один из них переводится в режим recovery. Изначально мастером выбирается первый из серверов в списке. В дальнейшем тот, кто выполнял функцию мастера последним.\n Если экземпляр-мастер становится недоступен, то в течение минуты-двух recovery-сервер превращается в мастер.\n Если предыдущий мастер появляется снова, то он переводится в режим recovery путем остановки и полного бэкапа данных с текущего мастера.\n В лог middleware трассируется вся активность сервиса.\n Работа с состояниями экземпляров серверов БД производится через SSH, для чего в свойствах сервера должны быть указаны соответствующие опции.\n Операция перевода в режим recovery сопровождается перемещением каталога с данными в указанную папку для бэкапов. По умолчанию /tmp/pg_backups.\n Перевод в режим master только после истечения 30 секунд после потери текущего мастера.\n Перевод в режим recovery возможен только при наличии активного мастера.\n Настройки значений для групп:\n key - уникальный строковый ключ группы. При отсутствии генерируется автоматически.\n servers - список серверов, входящих в группу.\n Настройки значений для серверов:\n ssh_host - ssh host of postgresql (default as pg_host).\n ssh_port - ssh port of postgresql server (default 22).\n ssh_user - ssh user of postgresql host.\n ssh_pwd - ssh password of postgresql host.\n pg_host - actual current postgresql host address, available for replicas (default as ssh_host).\n pg_port - actual current postgresql port, available for replicas (default 5432). Recommended to set the same value to all replicas.\n pg_replica_user - actual current postgresql replica user login, available for replicas. Should be the same on all replicas.\n pg_replica_pwd - actual current postgresql replica user password, available for replicas. Should be the same on all replicas.\n pg_ctl_command - available for ssh user command (name, path or alias) to pg_ctl of current postgresql version.\n pg_basebackup_command - available for ssh user command (name, path or alias) to pg_basebackup of current postgresql version.\n pg_database - actual current postgresql initial database to connect to as replica user and save state (default postgres).\n pg_data_folder - postgresql instance data folder. Recommended to set the same value to all replicas.\n pg_backup_folder - postgresql instance backups folder.\n pg_log_filepath - postgresql instance log file.\n pg_signal_filepath - recovery signal file to make master. Recommended to set the same value to all replicas.\n Указанное значение этого параметра не проверяется валидатором конфигурации в функциональной роли mic, однако проходит через фильтр в рантайме. В случае выявления некорретных настроек группа исключается. При отсутствии корректно настроенных групп контроллер бездействует и ожидает изменений в конфигурации.\n Все функциональные роли системы автоматически переключаются в работу с новым мастером, указанным в конфигурации, вне зависимости от данной настройки.\n =Настройка PostgreSQL=\n Для того, чтобы сервис контроллера работал корректно, требуется предварительная настройка экземпляров PostgreSQL.\n Серверы могут быть установлены с помощью скрипта платформы, в этом случае они получают эту настройку автоматически.\n Версия PostgreSQL не ниже 12.\n Для репликации создана учетная запись (например, replicator), ей разрешено 10 или более подключений.\n В конфигурационных файлах произведены следующие настройки (значения отдельных параметров могут варьироваться по усмотрению администратора):\n postgresql.conf\n listen_addresses = '*'\n hot_standby = on\n wal_level = replica\n max_wal_senders = 10\n wal_keep_segments = 32\n promote_trigger_file = '/var/lib/postgresql/12/era_instance_01/master.signal'\n pg_hba.conf\n host\tall\t            replicator     \t0.0.0.0/0\t\tmd5\n Если второй сервер настроен в режиме мастера, то после первого запуска контроллер автоматически переведет одного из них в режим репликации. \n```\n default: empty"
                                    },
                                    "roletype": {
                                        "const": "mware",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"mware\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Record Mover (recmover)\n```\nФункциональная роль перемещения записей разговоров по доменным хранилищам. Перехватывает события о завершении микширования записей и перемещает записи в соответствии с правилами записи в файловые хранилища соответствующих доменов.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/recmover.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n Горизонтальное масштабирование внутри сайта не поддерживается. Все экземпляры функциональной роли на сайте должны иметь одинаковое значение.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "intervalerrsec": {
                                        "description": "```\n Интервал до следующей итерации в случае возникновения ошибки, в секундах.\n Отсчитывается после завершения текущей итерации с ошибкой.\n Возможные значения от 1 до 86400. \n```\n default: 60",
                                        "type": "number"
                                    },
                                    "intervalsec": {
                                        "description": "```\n Интервал между операциями копирования (от завершения предыдущей до начала следующей), в секундах.\n Возможные значения от 1 до 86400. \n```\n default: 300",
                                        "type": "number"
                                    },
                                    "mode": {
                                        "description": "```\n \"Режим работы с записями как с поставщиком данных. Возможные значения:\n \"copy\" – файлы копируются в доменные хранилища, и остаются в общем хранилище сайта.\n \"move\" – файлы копируются в доменные хранилища, а затем удаляются из общего хранилища сайта. \n```\n default: \"move\"",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "recmover",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"recmover\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Redirect SIP Service (redirect)\n```\nПеренаправляет запросы SIP на один из SIP-гейтов текущего сайта. Обеспечивает возможность использования одного IP-адреса для устройств, подключенных к сайту, повышая его пропускную способность.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/redirect.html",
                                "properties": {
                                    "expires": {
                                        "description": "```\n Время жизни, подставляемое в поле \"Contact\" при переадресации, в секундах.\n Предполагается, что устройство продолжит использовать полученный контактный адрес в качестве основного прокси-сервера в течение указанного времени. \n```\n default: 0",
                                        "type": "number"
                                    },
                                    "gates": {
                                        "description": "```\n Список roleid функциональных ролей sg на которые будет производиться редирект.\n По умолчанию все экземпляры на текущем сайте. \n```\n default: empty",
                                        "items": {
                                            "type": "number"
                                        },
                                        "type": "array"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "multicontact": {
                                        "description": "```\n Выключатель режима предоставления UA списка адресов.\n true – предоставление UA случайного списка адресов всех экземпляров функциональной роли sg на текущем сайте (выбор возлагается на UA).\n false – предоставление UA единственного случайным образом выбранного адреса из списка адресов всех экземпляров функциональной роли sg на текущем сайте. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "redirect",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"redirect\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "sipcode": {
                                        "description": "```\n Код ответа, отправляемый в UA для перенаправления. Возможные значения: 3xx. По умолчанию: 305 Use Proxy. \n```\n default: 305",
                                        "type": "number"
                                    },
                                    "tcp": {
                                        "description": "```\n Локальный порт TCP для SIP. Если указано значение, отличное от UDP, то будет поднят дополнительно.\n Например: 5060 \n```",
                                        "type": "number"
                                    },
                                    "tls": {
                                        "description": "```\n Локальный порт TLS для SIP (1 - 65535). По умолчанию не открывается.\n Например: 5061 \n```\n default: empty",
                                        "type": "number"
                                    },
                                    "trn": {
                                        "description": "```\n Выключатель логирования SIP-протокола в лог trn. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "udp": {
                                        "description": "```\n Локальный порт UDP для SIP. Этот же порт одновременно обрабатывает и TCP.\n Например: 5060 \n```",
                                        "type": "number"
                                    },
                                    "wss": {
                                        "description": "```\n Локальный порт WebSocketSecure для SIP (1 - 65535). По умолчанию не открывается.\n Например: 5063 \n```\n default: empty",
                                        "type": "number"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "tcp",
                                    "udp"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Reporting Manager (repg)\n```\nСервис построения отчетов по хронологическим данным и оперативным данным.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/repg.html",
                                "properties": {
                                    "dbconnstrings": {
                                        "description": "```\n Строки подключения к ферме серверов PostgreSQL отчетных БД доменов (report).\n Формат строки подключения: \"alias://pgdb_strings/<ALIAS_NAME>\", где <ALIAS_NAME> – конкретный алиас конфигурации из раздела pgdb_strings.\n Перечисление в списке нескольких строк подключения обеспечивает резервный доступ к ферме серверов БД – если подключение через первую строку не удается, производится подключение через вторую и т.д. \n```",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "repg",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"repg\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "dbconnstrings",
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Rotator (rot)\n```\nОбеспечивает функциональность механизма ротации чат-сессий в личной очереди оператора (пользователя, зарегистрированного в чат-центре).\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/rot.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "rot",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"rot\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "RPC Inner (rpci)\n```\nСлужебная функциональная роль, обеспечивающая регистрацию активных экземпляров функциональных ролей, резервирующихся в режиме Active-Passive. Каждая нода внутри системы имеет клиента rpci для осуществления таких запросов. В конфигурации настраиваются функциональные роли-серверы rpci для каждого сайта. Сервис rpci обеспечивает выдачу адресов микросервисов внутри сайта.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/rpci.html",
                                "properties": {
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "roletype": {
                                        "const": "rpci",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"rpci\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "RPC Outer (rpco)\n```\nСлужебная функциональная роль, обеспечивающая связь серверов между сайтами без прямого соединения типа full-mesh. Решает также проблему отсутствия прямой видимости адресных пространств сайтами друг друга. Каждая нода внутри системы имеет клиента rpco для осуществления таких запросов. В конфигурации настраиваются функциональные роли-серверы rpco.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/rpco.html",
                                "properties": {
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "roletype": {
                                        "const": "rpco",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"rpco\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Reserver (rsv)\n```\nОбеспечивает синхронизированное резервирование ресурсов домена на всех сайтах его обслуживания.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/rsv.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "rsv",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"rsv\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Service Script Machine (scr)\n```\nПроцессор служебных сценариев и отложенных заданий на их выполнение.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/scr.html",
                                "properties": {
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "scr",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"scr\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Site Domain Center (sdc)\n```\nХранилище сущностей домена.\nПредоставляет другим функциональным ролям доступ к данным для организации процессов. Некоторые данные подлежат предварительному расчету внутри функциональной роли.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/sdc.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, а остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "sdc",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"sdc\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Selector Conference Controller (sel)\n```\nОбеспечивает управление селекторными совещаниями.\nЯвляется надстройкой для функциональной роли conf, передавая ей ответственность за коммуникационный слой.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/sel.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, а остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "sel",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"sel\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Session Manager (sess)\n```\nОбеспечивает управление сессиями обслуживания чатов и заданий.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/sess.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "sess",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"sess\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roleid",
                                    "roletype",
                                    "separate"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Internal SIP Gate (sg)\n```\nТочка входа в кластер по SIP для внутренних устройств, определяемых учетными записями SIP-пользователей.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/sg.html",
                                "properties": {
                                    "aliases": {
                                        "description": "```\n Алиасы сетевых интерфейсов для применения bgmg.\n Распределение алиасов по сетевым интерфейсам обязано совпадать с аналогичным распределением у функциональной роли bgmg.\n Формат:\n {\"key\":\"Alias\", \"value\":\"Interface\"}\n Достижимость конечных адресов через сетевые интерфейсы, чьи адреса принадлежат разным алиасам, означает необходимость применения медиа-шлюза, управляемого функциональной ролью bgmg.\n Здесь должны быть указаны адреса всех сетевых интерфейсов IPv4 (исключая loopback), которые могут быть определены системой как наилучшие для достижения удаленных адресов. \n```\n default: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "b2bmedia": {
                                        "description": "```\n Выключатель применения медиа-шлюза функциональной ролью b2b для звонков, перенаправляемых текущим экземпляром функциональной роли sg. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "certdir": {
                                        "description": "```\n Алиас каталога на сервере для хранения сертификатов (файлы server.crt и server.key), в случае необходимости указания цепочки сертификатов до центра сертификации (CA - Certification Authority) его необходимо разместить в конце файла сертификата.\n Если путь не указан, то поиск сертификатов осуществляется в каталоге \"/usr/lib/rostell/rostell_sip/priv/ssl\" \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "keypass": {
                                        "description": "```\n Пароль для расшифровки файла секретного ключа сертификата. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "max_udp_size": {
                                        "description": "```\n Максимальный размер udp пакета, отправляемый системой, в байтах.\n Минимальное значение: 1500.\n (Реализовано в задаче #182).\n При превышении отправляемым пакетом установленного размера происходит автоматическая отправка через TCP.\n При превышении отправляемым пакетом размера 1500 но до установленного в поле значения, происходит автоматическое разбиение пакета на фреймы и сборка их при получении на нижнем сетевом уровне.\n Не все устройства поддерживают такой режим. В то же время не все устройства держат TCP открытым. \n```\n default: 1500",
                                        "minimum": 1500,
                                        "type": "number"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "payloads_audio_offer": {
                                        "description": "```\n Список применяемых аудио кодеков. В качестве значения - список, содержащий имена кодеков в формате \"Name/Freq\". \n```\n default: \"G729/8000\"",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "payloads_video_offer": {
                                        "description": "```\n Список используемых для инициации звонка имен видеокодеков case-sensitive. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "reregister": {
                                        "description": "```\n Выключатель режима отправки запросов NOTIFY для перерегистрации UA при падении экземпляра функциональной роли sg, обслуживающего устройство.\n true – при обнаружении внезапной недоступности экземпляра функциональной роли sg, другие экземпляры функциональной роли осуществляют отправку запроса NOTIFY со специальным содержимым, призванным инициировать перезапуск операции регистрации на устройстве.\n Применяется в случае, если устройства поддерживают указание нескольких адресов Outbound-proxy и обработку этого NOTIFY. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Не подлежит изменению.\n Целое число от 1 до 9999. \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "sg",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"sg\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```",
                                        "type": "boolean"
                                    },
                                    "sipalg": {
                                        "description": "```\n Маппинги SIP ALG для применения в SDP и заголовках на исходящих запросах INVITE и ответах OK, а также обратно на входящих\n сообщениях ACK и BYE.\n Формат:\n {\"key\":\"IpAddr1\", \"value\":\"IpAddr2\"}\n Ключом выступает IP-адрес подлежащий подмене, а значением - IP-адрес, на который будет подменяться адрес в исходящем SDP.\n IP-адрес подлежащий подмене должен совпадать с адресом на сервере с функциональной ролью MG/BGMG.\n IP-адрес на который будет подменяться может быть любым и обычно не принадлежит серверу. \n```\n default: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "substitute_domains": {
                                        "description": "```\n Подстановка доменов вместо ip-адресов в заголовки To и From SIP-пакетов.\n Применяется при работе с телефонами, которые не могут подставлять символьные доменные имена.\n При активации режима микросервис SG подменяет пакеты при пересылке в обе стороны следующим образом:\n * Принимаемые от устройств пакеты, содержащие IP-адрес сервера в качестве имени домена в заголовках To и From, подменяют IP-адрес в этих заголовках на сопоставленный ему домен.\n * Отправляемые устройствам пакеты, содержащие в заголовках To и From один из доменов, указанных в опции, подменяют домен в этих заголовках на сопоставленный ему IP-адрес.\n Формат:\n [{\"addr\":\"IpAddr\", \"domain\":\"DOMAIN\"}, ...] \n```\n default: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "value"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "tcp": {
                                        "description": "```\n Локальный порт TCP для SIP (1 - 65535). Если указано значение, отличное от UDP, то будет поднят дополнительно.\n Например: 5060 \n```",
                                        "type": "number"
                                    },
                                    "tls": {
                                        "description": "```\n Локальный порт TLS для SIP (1 - 65535). По умолчанию не открывается.\n Например: 5061 \n```\n default: empty",
                                        "type": "number"
                                    },
                                    "tls_ciphers": {
                                        "description": "```\n Список алгоритмов шифрования, используются при установке tls соединения. Необходимо указывать RFC или openssl имена алгоритмов. При указании * будут выбраны все доступные алгоритмы.\n По умолчанию используется default - список актуальных алгоритмов шифрования для протоколов tlsv1.1, tlsv1.2, tlsv1.3.\n Например:\n [\"*\"]\n [<<\"TLS_RSA_WITH_AES_256_GCM_SHA384\">>, <<\"AES256-GCM-SHA384\">>] \n```\n default: default",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "translit": {
                                        "description": "```\n Выключатель режима автоматического транслита DisplayName в запросах, перенаправляемых в сторону от системы к подключенным устройствам. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "trn": {
                                        "description": "```\n Выключатель логирования SIP-протокола в лог trn. \n```\n default: true",
                                        "type": "boolean"
                                    },
                                    "udp": {
                                        "description": "```\n Локальный порт UDP для SIP (1 - 65535). Этот же порт одновременно обрабатывает и TCP.\n Например: 5060 \n```",
                                        "type": "number"
                                    },
                                    "use_srtp": {
                                        "description": "```\n По умолчанию при инициации звонков на адреса, подключенные по TLS, отправляется SDP-offer для нешифрованного медиа потока (rtp). С помощью параметра можно для TLS адресов включить режим инициации отправки SDP-offerа с шифрованным медиа-потоком.\n Применяется только для звонков, использующих пограничный медиагейт. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "use_video_transcoding": {
                                        "description": "```\n Выключатель транскодинга видео.\n Применяется при использовании bgmg.\n false – все видео-кодеки из SDP INVITE-запроса, полученного от инициатора, транслируются без изменений в SDP INVITE-запросов на вызываемые устройства. В этом случае система не применяет ни свои знания о кодеках, ни транскодинг, икодек неизвестен системе, то прямая трансляция тем не менее остается возможной.\n true – все видео-кодеки приводятся в соответствии с известными системе видео-кодеками, система предлагает вызываемой стороне все известные ей кодеки (с фильтром из payloads_video_offer), и при несовпадении выбранных устройствами кодеков осуществляется транскодинг на видео-стриме. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "wss": {
                                        "description": "```\n Локальный порт WebSocketSecure для SIP (1 - 65535). По умолчанию не открывается.\n Например: 5063 \n```\n default: empty",
                                        "type": "number"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype",
                                    "separate",
                                    "tcp",
                                    "udp"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Server Queue Message Broker (sq)\n```\nБрокер сообщений о событиях в системе.\nОбеспечивает прием и сохранение данных (до превышения лимита) без нарушения порядка поступления. Предоставляет доступ к хранилищу событий только указанным в конфигурации подписчикам (функциональным ролям-обработчикам, например cdr).\n\nВременно и ограниченно хранит данные о событиях, сгенерированных на текущем сайте.\nРезервируется в режиме Active-Passive. Масштабируется разделением по очередям.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/sq.html",
                                "properties": {
                                    "domainqlist": {
                                        "description": "```\nСписок доменных очередей в рамках экземпляра функциональной роли, для каждой очереди указывается список паттернов которые она принимает и максимальная длина очереди в количестве блоков по 100к. Возможные паттерны:\n\nФормат описателя очереди\n{\"key\": \"queueNum\", \"patterns\":\"p1,...,pN\"}\nВарианты паттернов https://dev01.oktell.ru/docs/r/develop/configuration/roles/sq.html#subtable_2\n```\ndefault: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "patterns": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "patterns"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по хеш-суммам ключей сохраняемых данных. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Расчет хеш-сумм производится автоматически по внутреннему алгоритму с равномерно-случайным распределением.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "qlist": {
                                        "description": "```\nСписок очередей в рамках экземпляра функциональной роли, для каждой очереди указывается список паттернов которые она принимает и максимальная длина очереди в количестве блоков по 100к\n\nФормат описателя очереди\n{\"key\": \"queueNum\",\"patterns\":\"p1,...,pN\"}\nСписок паттернов https://dev01.oktell.ru/docs/r/develop/configuration/roles/sq.html#subtable_1\n```\ndefault: empty",
                                        "items": {
                                            "additionalProperties": false,
                                            "properties": {
                                                "key": {
                                                    "type": "string"
                                                },
                                                "patterns": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "key",
                                                "patterns"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "roletype": {
                                        "const": "sq",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"sq\".\n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "domainqlist",
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "qlist",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Registrar (sr)\n```\nХранилище регистраций подключений и устройств пользователей системы и SIP-пользователей. Данные о подключении содержат путь до точки. Каждая запись регистрируется на время и периодически продляется.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/sr.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, а остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "sr",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"sr\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Storage (st)\n```\nУниверсальное хранилище сайта. Используется различными функциональными ролями как внутренний сервис.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/st.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по хеш-суммам ключей сохраняемых данных. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Расчет хеш-сумм производится автоматически по внутреннему алгоритму с равномерно-случайным распределением.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "st",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"st\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "States & Subscriptions Storage (sts)\n```\nХранилище состояний и подписок на изменения состояний пользователей системы и SIP-пользователей.\nУведомляет подписчиков о смене интегральных состояний учетных записей. Каждая запись регистрируется на время и периодически продляется.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/sts.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, а остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "sts",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"sts\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "User Center (usr)\n```\nОбеспечивает логику обслуживания подключений пользователей к системе через API в контексте управления состояниями.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/usr.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "usr",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"usr\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Voice Mail Server (vmail)\n```\nОбеспечивает обслуживание голосовых ящиков и работу сервиса голосовой почты.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/vmail.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "vmail",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"vmail\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Web Server (ws)\n```\nПредоставляет доступ к API системы через HTTP и WebSocket, а также обслуживает выдачу статических файлов системных и ролевых веб-приложений. Для доступа к API проводит авторизацию и работает с HTTP-сессиями через выставление и использование Cookie. Для некоторых endpoint’ов доступна авторизация по токену с использованием заголовка `Authorization: Bearer <intergation_point.token_local>`.\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/ws.html",
                                "properties": {
                                    "apdir": {
                                        "description": "```\n Алиас каталога на сервере для хранения файлов autoprovision. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "certdir": {
                                        "description": "```\n Алиас каталога на сервере для хранения сертификатов (файлы server.crt и server.key), в случае необходимости указания цепочки сертификатов до центра сертификации (CA - Certification Authority) его необходимо разместить в конце файла сертификата.\n Если путь не указан, то поиск сертификатов осуществляется в каталоге \"/usr/lib/rostell/rostell_ws/priv/ssl\" \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "httpport": {
                                        "description": "```\n Локальный порт веб-сервера для открытых TCP подключений. \n```\n default: 80",
                                        "type": "number"
                                    },
                                    "httpsport": {
                                        "description": "```\n Локальный порт веб-сервера для TLS поключений. \n```\n default: 443",
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "keypass": {
                                        "description": "```\n Пароль для расшифровки файла секретного ключа сертификата. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "ports_mode": {
                                        "description": "```\n Режим работы портов.\n Возможные значения:\n \"both\" – http и https порты открыты;\n \"http-only\" – открыт только http порт;\n \"https-only\" – открыт только https порт;\n \"http+redir\" – http и https порты открыты, но https работает в режиме перенаправления на http;\n \"https+redir\" – http и https порты открыты, но http работает в режиме перенаправления на https. \n```\n default: \"both\"",
                                        "type": "string"
                                    },
                                    "roleid": {
                                        "description": "```\n Идентификатор функциональной роли.\n Уникален для всей системы, независимо от сайта или сервера. Нельзя изменить после присвоения. Целое число от 1 до 9999 \n```",
                                        "maximum": 9999,
                                        "minimum": 1,
                                        "type": "number",
                                        "uniqueItems": true
                                    },
                                    "roletype": {
                                        "const": "ws",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"ws\". \n```",
                                        "type": "string"
                                    },
                                    "separate": {
                                        "description": "```\n Признак выделения функциональной роли в отдельную ноду. \n```\n default: false",
                                        "type": "boolean"
                                    },
                                    "service_mode": {
                                        "description": "```\n Режим обслуживания запросов\n \"both\" – обе части работают (и API, и статика (системные и ролевые веб-приложения));\n \"api-only\" – работает только api;\n \"static-only\" – работает только статика. \n```\n default: empty",
                                        "type": "string"
                                    },
                                    "websock_debug_level": {
                                        "description": "```\n Уровень логирования сообщений протокола websocket.\n По умолчанию: 0.\n Возможные значения:\n 0 – не логирует;\n 1 – логирует старты стопы подключений;\n 2 – логирует простые ошибки;\n 3 – логирует ошибки с упоминанием тела ошибочного сообщения;\n 4 – логирует факт всех входящих и исходящих сообщений;\n 5 – логирует все входящие и исходящие сообщения, отрезая первые 1024 байта;\n 6 – логирует полностью все входящие и исходящие сообщения. \n```\n default: 0",
                                        "type": "number"
                                    },
                                    "wwwdir": {
                                        "description": "```\n Алиас каталога на сервере со статическими ресурсами web-сервера.\n По умолчанию: \"/usr/lib/rostell/rostell_ws/priv/www\" \n```\n default: empty",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "iface",
                                    "name",
                                    "roleid",
                                    "roletype"
                                ],
                                "type": "object"
                            },
                            {
                                "additionalProperties": false,
                                "description": "Web Service Subscriptions Storage (wssubscr)\n```\nОбслуживает подписки внешних сервисов на получение событий системы через API (HTTP и WebSocket).\n```\nhttps://dev01.oktell.ru/docs/r/develop/configuration/roles/wssubscr.html",
                                "properties": {
                                    "group": {
                                        "description": "```\n Номер группы.\n В рамках горизонтального масштабирования функциональная роль может быть разделена на несколько групп на сайте, в каждой из которых активен только один экземпляр, остальные зарезервированы.\n Ответственность между группами разделяется по доменным множествам. Вместе все группы обслуживают полное доменное множество. Все функциональные роли одной группы должны иметь одинаковую ответственность.\n Целое число от 1 до 9999999. \n```",
                                        "maximum": 9999999,
                                        "minimum": 1,
                                        "type": "number"
                                    },
                                    "iface": {
                                        "description": "```\n Алиас сетевого интерфейса сервера, на котором будет происходить внутреннее взаимодействие функциональных ролей между собой. \n```",
                                        "type": "string"
                                    },
                                    "include_domains": {
                                        "description": "```\n Список имен доменов, которые обслуживает данная группа.\n Может быть указан любой домен любого уровня. Указание домена приводит к тому, что дерево его поддоменов будет обслуживаться на этой группе и не будет обслуживаться на других группах функциональной роли, исключая только те ветви, которые упомянуты в других группах.\n В совокупности все группы функциональной роли на сайте обслуживают полное дерево доменов. \n```\n default: empty",
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "name": {
                                        "description": "Имя. Может состоять из латинских букв и цифр, должно начинаться с буквы.",
                                        "type": "string"
                                    },
                                    "order": {
                                        "description": "```\n Порядок экземпляра функциональной роли в рамках группы.\n Определяет в каком порядке будет происходить перетекание в режиме Active-Passive. \n```",
                                        "type": "number"
                                    },
                                    "roletype": {
                                        "const": "wssubscr",
                                        "description": "```\n Тип функциональной роли. Возможные значения: \"wssubscr\". \n```",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "group",
                                    "iface",
                                    "name",
                                    "order",
                                    "roletype"
                                ],
                                "type": "object"
                            }
                        ]
                    },
                    "type": "array"
                },
                "servers": {
                    "description": "Раздел содержит список всех серверов текущей конфигурации и их параметров. Функциональные роли к параметрам не относятся. Привязка серверов к сайтам и функциональных ролей к серверам происходит в разделе structure.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/servers.html",
                    "items": {
                        "additionalProperties": false,
                        "description": "Раздел servers\n\nРаздел содержит список всех серверов текущей конфигурации и их параметров. Функциональные роли к параметрам не относятся. Привязка серверов к сайтам и функциональных ролей к серверам происходит в разделе structure.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/servers.html",
                        "properties": {
                            "agat_chassis": {
                                "description": "Произвольная строка, обозначающая принадлежность сервера к указанному шасси АГАТ-РТ.",
                                "type": "string"
                            },
                            "agat_cpu": {
                                "description": "Произвольная строка, имеющая смысл для администратора агат-оборудования. Будет использоваться при настройке линейных модулей для указания primary/secondary CPU, чтобы не ссылаться на имя сервера.",
                                "type": "string"
                            },
                            "descr": {
                                "description": "Описание сервера.\nПо умолчанию значение не задано.",
                                "type": "string"
                            },
                            "erlangtcp": {
                                "description": "Порт для взаимодействия нод виртуальной машины erlang между собой.\nДолжен быть одинаковым у всех серверов конфигурации.\n\ndefault 4369",
                                "type": "number"
                            },
                            "fsync_iface_device": {
                                "description": "Интерфейс приложения syncthing в рамках функциональной роли fsync, на котором поднимается порт для взаимодействия с другими экземплярами приложения syncthing в системе.\nПо умолчанию: интерфейс ноды.",
                                "type": "string"
                            },
                            "fsync_iface_gui": {
                                "description": "Интерфейс приложения syncthing в рамках функциональной роли fsync, на котором поднимается порт для доступа в Web-GUI.\n\ndefault '127.0.0.1'",
                                "type": "string"
                            },
                            "globalsharepath": {
                                "description": "Путь до каталога globalshare на сервере.\nВ случае, если параметр не указан, то фактически будет использоваться указанный путь по умолчанию на диске.\n\ndefault \"/var/lib/rostell/files/globalshare\"",
                                "type": "string"
                            },
                            "ifaces": {
                                "description": "```\nСетевые интерфейсы IPv4, доступные на сервере.\n\n[ { \"Key\":\"IPv4_Address\", …​ }, ... ]\n---\n, где\nKey – алиас интерфейса, используемый для указания интерфейсов при настройке функциональных ролей;\nIPv4_Address - IPv4 адрес интерфейса. Адреса должны присутствовать на сервере.\n```",
                                "items": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "localpath": {
                                "description": "Путь до каталога local на сервере.\nВ случае, если параметр не указан, то фактически будет использоваться указанный путь по умолчанию на диске.\n\ndefault \"/var/lib/rostell/files/local\"",
                                "type": "string"
                            },
                            "logiface": {
                                "description": "Алиас интерфейса на сервере, на котором поднимается нода servershell – центральная нода сервера.\n\ndefault eth0",
                                "type": "string"
                            },
                            "name": {
                                "description": "Название сайта, указываемое при настройках других элементов конфигурации.\nCтрока, может состоять из латинских букв и цифр, начинаться должно с буквы.\n\nРекомендуются короткие говорящие значения.",
                                "type": "string"
                            },
                            "nodesportrange": {
                                "description": "Диапазон портов, которые будут использоваться для ролевых нод.\nФормат: PortFrom:PortCnt, где PortFrom – начальное значение порта, PortCnt – количество портов.\n\ndefault 9310:90",
                                "type": "string"
                            },
                            "perfmon_tick": {
                                "description": "Период снятия данных о работе системы и генерации событий класса perfmonevents, в секундах.\n\ndefault 30",
                                "type": "number"
                            },
                            "recstorepath": {
                                "description": "```\nПеречисление каталогов для хранения записей разговоров на текущем сервере.\n[ { \"Key\":\"AbsPath\", …​ }, …​ ]\n---\n, где\n- Key – ключ, используемый для указания путей на сервере при настройке функциональных ролей;\n- AbsPath – абсолютный путь на сервере к каталогу или его алиас (например, alias://paths/c).\n```\n\ndefault []",
                                "items": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "sitesharepath": {
                                "description": "Путь до каталога siteshare на сервере.\nВ случае, если параметр не указан, то фактически будет использоваться указанный путь по умолчанию на диске.\ndefault \"/var/lib/rostell/files/siteshare\"",
                                "type": "string"
                            },
                            "syncrootpath": {
                                "description": "Путь до каталога :SYNC на сервере (синхронизируется функциональной ролью fsync и приложением syncthing).\nВ случае, если параметр не указан, то фактически будет использоваться указанный путь по умолчанию на диске.\n\ndefault \"/var/lib/rostell/files/syncroot\"",
                                "type": "string"
                            }
                        },
                        "required": [
                            "ifaces",
                            "logiface",
                            "name"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                },
                "sites": {
                    "description": "Раздел содержит список всех сайтов текущей конфигурации и их параметров. Серверы к параметрам не относятся. Привязка серверов к сайтам осуществляется в разделе structure.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/sites.html",
                    "items": {
                        "additionalProperties": false,
                        "description": "Раздел sites\n\nСписок сайтов.\n\nРаздел содержит список всех сайтов текущей конфигурации и их параметров. Серверы к параметрам не относятся. Привязка серверов к сайтам осуществляется в разделе structure.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/sites.html",
                        "properties": {
                            "ctrl_domains": {
                                "description": "Список доменов, управление которыми может производиться через подключение к текущему сайту.\nСпособ указания аналогичен полю domains.\n\ndefault []",
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            "descr": {
                                "description": "Описание сайта. По умолчанию: не задано",
                                "type": "string"
                            },
                            "domains": {
                                "description": "Список обслуживаемых на сайте доменов. Указываются через имена, а не через fqdn.\nСайт также обслуживает все домены из дочерних деревьев указанных в свойстве доменов.\nОдин домен может обслуживаться на нескольких сайтах.\n\nЕсли какой-либо домен указан на сайте А, и не указан на сайте Б, при этом на сайте Б указан один из его родительских доменов, то этот домен и домены из его дочернего дерева обслуживаются только на сайте Б.\n\nТаким образом каждый домен полного дерева доменов обслуживается хотя бы на одном из сайтов – там где он указан явно, либо явно указан его родительский домен и так далее вплать до мастер-домена.\n\nМастер-домен автоматически привязывается исключительно к мастер-сайту и не требует отдельного указания.",
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            "name": {
                                "description": "Cтрока, может состоять из латинских букв и цифр, начинаться должно с буквы",
                                "type": "string"
                            },
                            "num": {
                                "description": "Числовой номер сайта из трех цифр для применения в именах элементов сайта",
                                "type": "number"
                            },
                            "perfmon_tick": {
                                "description": "Период снятия данных о работе системы и генерации событий класса perfmonevents, в секундах.\n0 – выключено.\nПрименяется в случае, если не указан соответствующий параметр в разделе \"servers",
                                "type": "number"
                            },
                            "prefix": {
                                "description": "Буквенный префикс из трех символов для применения в именах элементов сайта",
                                "type": "string"
                            },
                            "sitetype": {
                                "description": "```\nТип сайта.\nВозможные варианты:\n\n- master – мастер сайт.\n- communication – рабочий сайт с полным функционалом.\n- master_communication – мастер сайт с полным функционалом.\n```",
                                "enum": [
                                    "communication",
                                    "master",
                                    "master_communication"
                                ],
                                "type": "string"
                            }
                        },
                        "required": [
                            "domains",
                            "name",
                            "sitetype"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                },
                "structure": {
                    "description": "JSON-структура, объединяющая сайты, серверы и функциональные роли в одну конфигурацию.\n\n Представляет собой список сайтов, каждый содержит список серверов, каждый содержит список функциональных ролей. Один сервер может принадлежать только одному сайту, один экземпляр функциональной роли может принадлежать только одному серверу.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/structure.html",
                    "items": {
                        "additionalProperties": false,
                        "description": "Раздел structure\n \nJSON-структура, объединяющая сайты, серверы и функциональные роли в одну конфигурацию.\nПредставляет собой список сайтов, каждый содержит список серверов, каждый содержит список функциональных ролей. Один сервер может принадлежать только одному сайту, один экземпляр функциональной роли может принадлежать только одному серверу.\n\nhttps://dev01.oktell.ru/docs/r/develop/configuration/categories/structure.html",
                        "properties": {
                            "servers": {
                                "items": {
                                    "additionalProperties": false,
                                    "properties": {
                                        "roles": {
                                            "description": "Массив из имен экземпляров функциональных ролей из раздела roles, поле name.",
                                            "items": {
                                                "type": "string"
                                            },
                                            "type": "array"
                                        },
                                        "server": {
                                            "description": "Имя сервера из раздела servers, поле name.",
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "roles",
                                        "server"
                                    ],
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "site": {
                                "description": "Имя сайта из раздела sites, поле name.",
                                "type": "string"
                            }
                        },
                        "required": [
                            "servers",
                            "site"
                        ],
                        "type": "object"
                    },
                    "type": "array"
                }
            },
            "required": [
                "aliases",
                "domains",
                "general",
                "roles",
                "servers",
                "sites",
                "structure"
            ],
            "type": "object"
        },
        "name": {
            "description": "Имя конфигурации",
            "type": "string"
        },
        "opts": {
            "additionalProperties": false,
            "description": "Дополнительные свойства конфигурации",
            "properties": {
                "comment": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                }
            },
            "required": [
                "comment",
                "title"
            ],
            "type": "object"
        }
    },
    "required": [
        "$schema",
        "content",
        "name",
        "opts"
    ],
    "type": "object"
}

