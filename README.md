# Утилита для работы с config.json OS

Состоит из двух проектов
 - os-json-schema - проект для генерации JSONSchema
 - os-table-gen - генератор таблицы конфигурации

## С чего началось.

задача сделать некие инструменты которые с минимальными затратами и максимально в русле текущих инструментов(vscode, js, ts...), будут помогать работать с конфигурацией OS

## Текущие задачи, которые смог выделить

- (V) нужно сделать схему json`а
- (V) схему нужно использовать для построения конфига
- (V) схему можно исользовать для доп валидации в коде(хотя vscode позволяется это сделать через ссылку на схему)

Будем исопльзовать так

- берем некий JSON с конфигом.
- Потом валидируем через jsonSchema
- Если нет ошибок то делаем схему в виде таблицы.

## Таблица будет отображать стандартный поход

![Пример таблицы](https://raw.githubusercontent.com/ssateam/os_configurator/main/os-json-schema/table-config-example-1.png)

# Как можно использовать схему json

vscode очень хорошо работает с JSON схемами.
Достаточно открыть в vscod редакторе конфигурацию и добавить строчку в корневой объект (псоле первой скобки "`{`" )
```
  "$schema": "https://raw.githubusercontent.com/ssateam/os_configurator/main/os-json-schema/public/os.config.schema.json",
```
И всё! Вам сразу будет доступна валидация конфигурации.

> Важно заметить! Что схема, на данный момент, имеет рекомендательный характер. Бывают случаи когда валидатор сообщает об ошибке, но в реальности ошибки нет.

> Другие редакторы тоже должны работать со схемами - привязки к одному редактору нет. JSONSchema это стандарт https://json-schema.org/

# Создание/просмотр таблицы конфига

 - Создайте папку с конфигурационным файлом.
 - Положите в эту папку файл `index.html` путь до файла в репозитории `https://raw.githubusercontent.com/ssateam/os_configurator/main/os-table-gen/public/index.html`
 - запустить команду из созданной папки `npx http-server .`
 - запустите в браузере `http://127.0.0.1:8080/`

 >В созданной папке должны лежать два файла `index.html` и `config.json`